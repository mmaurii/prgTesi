namespace miniSL {
    // miniSL: function main(x,  y,  type)
// miniSL: function main(x,  y,  type)
function main(x: number, y: number, type: boolean): void {
        // miniSL: if(type)
// miniSL: if(type)
if (type) {
            evaluateX(x);
            // miniSL: invoke evaluateY(y)
// miniSL: invoke evaluateY(y)
evaluateY(y);
        } // miniSL: else
// miniSL: else
else {
            evaluateX(x);
        // miniSL: end
// miniSL: end
}
    // miniSL: end
// miniSL: end
}

    function evaluateX(x: number): number {
        if (x > 0) {
            return 0;
        }
        return 5;
    }

    // miniSL: function evaluateY(y)
// miniSL: function evaluateY(y)
function evaluateY(y: number): number {
        y = 1 + y; 

        // miniSL: if(1 + y > 0)
// miniSL: if(1 + y > 0)
if (y > 0) {
            y = 1 + y;
            // miniSL: if(1 + y > 0)
// miniSL: if(1 + y > 0)
if (y > 0) {
                return // miniSL: invoke generateNumber(y)
// miniSL: invoke generateNumber(y)
generateNumber(y);
            // miniSL: end
// miniSL: end
}
        } // miniSL: else
// miniSL: else
else {
            return 5;
        // miniSL: end
// miniSL: end
}

        return 0;
    // miniSL: end
// miniSL: end
}

    // miniSL: function generateNumber(y)
// miniSL: function generateNumber(y)
function generateNumber(y:number): number {
        // miniSL: call random()
        return random();
    // miniSL: end
// miniSL: end
}

    // miniSL: defCall random()
    function random(): number {
        console.log("Random external service called");
        return Math.random();
    }
}
